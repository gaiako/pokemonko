<?php
	require_once($_->raiz."/util/ClassLoader.php");
	require_once($_->raiz."/util/DirUtil.php");

	global $paths;
	
	function __autoload($className){
		global $_;

		$classes = array(
			"Controller" => $_->raiz."/classes",
			"Service" => $_->raiz."/classes",
			"DAO" => $_->raiz."/classes",
			"Imagem" => $_->raiz."/classes",
			"Enum" => $_->raiz."/classes",
			"AwsS3API" => $_->raiz."/classes",
			"Adicional" => $_->raiz."/classes/adicional",
			"AdicionalController" => $_->raiz."/classes/adicional",
			"AdicionalService" => $_->raiz."/classes/adicional",
			"AdicionalDAO" => $_->raiz."/classes/adicional",
			"Administrador" => $_->raiz."/classes/administrador",
			"AdministradorController" => $_->raiz."/classes/administrador",
			"AdministradorService" => $_->raiz."/classes/administrador",
			"AdministradorDAO" => $_->raiz."/classes/administrador",
			"Ajuda" => $_->raiz."/classes/ajuda",
			"AjudaController" => $_->raiz."/classes/ajuda",
			"AjudaService" => $_->raiz."/classes/ajuda",
			"AjudaDAO" => $_->raiz."/classes/ajuda",
			"Album" => $_->raiz."/classes/album",
			"AlbumController" => $_->raiz."/classes/album",
			"AlbumService" => $_->raiz."/classes/album",
			"AlbumDAO" => $_->raiz."/classes/album",
			"Bairro" => $_->raiz."/classes/bairro",
			"BairroController" => $_->raiz."/classes/bairro",
			"BairroService" => $_->raiz."/classes/bairro",
			"BairroDAO" => $_->raiz."/classes/bairro",
			"Categoria" => $_->raiz."/classes/categoria",
			"CategoriaController" => $_->raiz."/classes/categoria",
			"CategoriaService" => $_->raiz."/classes/categoria",
			"CategoriaDAO" => $_->raiz."/classes/categoria",
			"CategoriaAjuda" => $_->raiz."/classes/categoriaajuda",
			"CategoriaAjudaController" => $_->raiz."/classes/categoriaajuda",
			"CategoriaAjudaService" => $_->raiz."/classes/categoriaajuda",
			"CategoriaAjudaDAO" => $_->raiz."/classes/categoriaajuda",
			"Cidade" => $_->raiz."/classes/cidade",
			"CidadeController" => $_->raiz."/classes/cidade",
			"CidadeService" => $_->raiz."/classes/cidade",
			"CidadeDAO" => $_->raiz."/classes/cidade",
			"Cliente" => $_->raiz."/classes/cliente",
			"ClienteController" => $_->raiz."/classes/cliente",
			"ClienteService" => $_->raiz."/classes/cliente",
			"ClienteDAO" => $_->raiz."/classes/cliente",
			"PessoaFisica" => $_->raiz."/classes/cliente",
			"PessoaJuridica" => $_->raiz."/classes/cliente",
			"ClienteNewsletter" => $_->raiz."/classes/clientenewsletter",
			"ClienteNewsletterController" => $_->raiz."/classes/clientenewsletter",
			"ClienteNewsletterService" => $_->raiz."/classes/clientenewsletter",
			"ClienteNewsletterDAO" => $_->raiz."/classes/clientenewsletter",
			"Cor" => $_->raiz."/classes/cor",
			"CorController" => $_->raiz."/classes/cor",
			"CorService" => $_->raiz."/classes/cor",
			"CorDAO" => $_->raiz."/classes/cor",
			"CorItem" => $_->raiz."/classes/cor",
			"Cupom" => $_->raiz."/classes/cupom",
			"CupomController" => $_->raiz."/classes/cupom",
			"CupomService" => $_->raiz."/classes/cupom",
			"CupomDAO" => $_->raiz."/classes/cupom",
			"Definicao" => $_->raiz."/classes/definicao",
			"DefinicaoController" => $_->raiz."/classes/definicao",
			"DefinicaoService" => $_->raiz."/classes/definicao",
			"DefinicaoDao" => $_->raiz."/classes/definicao",
			"TipoDefinicao" => $_->raiz."/classes/definicao",
			"DescontoJuros" => $_->raiz."/classes/descontojuros",
			"DescontoJurosController" => $_->raiz."/classes/descontojuros",
			"DescontoJurosService" => $_->raiz."/classes/descontojuros",
			"DescontoJurosDAO" => $_->raiz."/classes/descontojuros",
			"Endereco" => $_->raiz."/classes/endereco",
			"EnderecoController" => $_->raiz."/classes/endereco",
			"EnderecoService" => $_->raiz."/classes/endereco",
			"EnderecoDAO" => $_->raiz."/classes/endereco",
			"Estado" => $_->raiz."/classes/estado",
			"EstadoController" => $_->raiz."/classes/estado",
			"EstadoService" => $_->raiz."/classes/estado",
			"EstadoDAO" => $_->raiz."/classes/estado",
			"EstatisticaController" => $_->raiz."/classes/estatistica",
			"EstatisticaService" => $_->raiz."/classes/estatistica",
			"EstatisticaDAO" => $_->raiz."/classes/estatistica",
			"MovimentacaoEstoque" => $_->raiz."/classes/estoque",
			"Evento" => $_->raiz."/classes/evento",
			"EventoController" => $_->raiz."/classes/evento",
			"EventoService" => $_->raiz."/classes/evento",
			"EventoDAO" => $_->raiz."/classes/evento",
			"AJAJException" => $_->raiz."/classes/exception",
			"AutoLoadException" => $_->raiz."/classes/exception",
			"BDException" => $_->raiz."/classes/exception",
			"ControllerException" => $_->raiz."/classes/exception",
			"DAOException" => $_->raiz."/classes/exception",
			"DBException" => $_->raiz."/classes/exception",
			"FotoException" => $_->raiz."/classes/exception",
			"ImagemFactory" => $_->raiz."/classes",
			"ImagemCDN" => $_->raiz."/classes/imagemcdn",
			"ImagemCDNController" => $_->raiz."/classes/imagemcdn",
			"ImagemCDNService" => $_->raiz."/classes/imagemcdn",
			"ImagemCDNDAO" => $_->raiz."/classes/imagemcdn",
			"InvalidLojaTipoFreteException" => $_->raiz."/classes/exception",
			"InvalidStatusEnvioException" => $_->raiz."/classes/exception",
			"InvalidStatusEnvioTransitionException" => $_->raiz."/classes/exception",
			"InvalidStatusPedidoException" => $_->raiz."/classes/exception",
			"InvalidStatusPedidoTransitionException" => $_->raiz."/classes/exception",
			"InvalidTipoFreteException" => $_->raiz."/classes/exception",
			"IOException" => $_->raiz."/classes/exception",
			"JaCadastradoException" => $_->raiz."/classes/exception",
			"NaoEncontradoException" => $_->raiz."/classes/exception",
			"QuantidadeIndisponivelException" => $_->raiz."/classes/exception",
			"SenhaIncorretaException" => $_->raiz."/classes/exception",
			"ServiceException" => $_->raiz."/classes/exception",
			"Fabricante" => $_->raiz."/classes/fabricante",
			"FabricanteController" => $_->raiz."/classes/fabricante",
			"FabricanteService" => $_->raiz."/classes/fabricante",
			"FabricanteDAO" => $_->raiz."/classes/fabricante",
			"DAOFactory" => $_->raiz."/classes/factory",
			"DefaultDAOFactory" => $_->raiz."/classes/factory",
			"DefaultServiceFactory" => $_->raiz."/classes/factory",
			"ServiceFactory" => $_->raiz."/classes/factory",
			"Fornecedor" => $_->raiz."/classes/fornecedor",
			"FornecedorController" => $_->raiz."/classes/fornecedor",
			"FornecedorService" => $_->raiz."/classes/fornecedor",
			"FornecedorDAO" => $_->raiz."/classes/fornecedor",
			"Loja" => $_->raiz."/classes/loja",
			"LojaController" => $_->raiz."/classes/loja",
			"LojaService" => $_->raiz."/classes/loja",
			"LojaDAO" => $_->raiz."/classes/loja",
			"LojaTipoFrete" => $_->raiz."/classes/loja",
			"Motoboy" => $_->raiz."/classes/motoboy",
			"MotoboyController" => $_->raiz."/classes/motoboy",
			"MotoboyService" => $_->raiz."/classes/motoboy",
			"MotoboyDAO" => $_->raiz."/classes/motoboy",
			"MovimentacaoCredito" => $_->raiz."/classes/movimentacaocredito",
			"MovimentacaoCreditoAdministrativo" => $_->raiz."/classes/movimentacaocredito",
			"MovimentacaoCreditoController" => $_->raiz."/classes/movimentacaocredito",
			"MovimentacaoCreditoService" => $_->raiz."/classes/movimentacaocredito",
			"MovimentacaoCreditoDAO" => $_->raiz."/classes/movimentacaocredito",
			"Noticia" => $_->raiz."/classes/noticia",
			"NoticiaController" => $_->raiz."/classes/noticia",
			"NoticiaService" => $_->raiz."/classes/noticia",
			"NoticiaDAO" => $_->raiz."/classes/noticia",
			"Ops" => $_->raiz."/classes/ops",
			"OpsController" => $_->raiz."/classes/ops",
			"OpsService" => $_->raiz."/classes/ops",
			"OpsDAO" => $_->raiz."/classes/ops",
			"Pagamento" => $_->raiz."/classes/pagamento",
			"PagamentoBraspag" => $_->raiz."/classes/pagamento",
			"PagamentoBraspagBoleto" => $_->raiz."/classes/pagamento",
			"PagamentoCielo" => $_->raiz."/classes/pagamento",
			"PagamentoPagSeguro" => $_->raiz."/classes/pagamento",
			"Pedido" => $_->raiz."/classes/pedido",
			"PedidoController" => $_->raiz."/classes/pedido",
			"PedidoService" => $_->raiz."/classes/pedido",
			"PedidoDAO" => $_->raiz."/classes/pedido",
			"AntiFraudeStatus" => $_->raiz."/classes/pedido",
			"FormaPagamento" => $_->raiz."/classes/pedido",
			"ItemPedido" => $_->raiz."/classes/pedido",
			"StatusEnvioPedido" => $_->raiz."/classes/pedido",
			"StatusPedido" => $_->raiz."/classes/pedido",
			"TipoFrete" => $_->raiz."/classes/pedido",
			"Produto" => $_->raiz."/classes/produto",
			"ProdutoController" => $_->raiz."/classes/produto",
			"ProdutoService" => $_->raiz."/classes/produto",
			"ProdutoDAO" => $_->raiz."/classes/produto",
			"Item" => $_->raiz."/classes/produto",
			"AdminServlet" => $_->raiz."/classes/servlet",
			"BDSingleton" => $_->raiz."/classes/singleton",
			"FactorySingleton" => $_->raiz."/classes/singleton",
			"Tamanho" => $_->raiz."/classes/tamanho",
			"TamanhoController" => $_->raiz."/classes/tamanho",
			"TamanhoService" => $_->raiz."/classes/tamanho",
			"TamanhoDAO" => $_->raiz."/classes/tamanho",
			"ArrayUtil" => $_->raiz."/util",
			"BoletoUtils" => $_->raiz."/util",
			"BraspagTranslator" => $_->raiz."/util",
			"CEPUtils" => $_->raiz."/util",
			"ClassLoader" => $_->raiz."/util",
			"DirUtil" => $_->raiz."/util",
			"Email" => $_->raiz."/util",
			"gapi.class" => $_->raiz."/util",
			"gaUtils" => $_->raiz."/util",
			"JSON" => $_->raiz."/util",
			"MailChimp" => $_->raiz."/util",
			"PedidoUtils" => $_->raiz."/util",
			"Response" => $_->raiz."/util",
			"RTTI" => $_->raiz."/util",
			"Util" => $_->raiz."/util",
			"Backup" => $_->raiz."/classes/backup",
			"BackupController" => $_->raiz."/classes/backup",
			"BackupService" => $_->raiz."/classes/backup",
			"BackupDAO" => $_->raiz."/classes/backup",
			"EmailSes" => $_->raiz."/util",
			"Comentario" => $_->raiz."/classes/comentario",
			"ComentarioController" => $_->raiz."/classes/comentario",
			"ComentarioService" => $_->raiz."/classes/comentario",
			"ComentarioDAO" => $_->raiz."/classes/comentario",
			"Comentavel" => $_->raiz."/classes/comentario",
			"Comentarista" => $_->raiz."/classes/comentario",
			"Conceito" => $_->raiz."/classes/conceito",
			"Busca" => $_->raiz."/classes/busca",
			"BuscaController" => $_->raiz."/classes/busca",
			"BuscaService" => $_->raiz."/classes/busca",
			"BuscaDAO" => $_->raiz."/classes/busca",
			"Hotsite" => $_->raiz."/classes/hotsite",
			"HotsiteController" => $_->raiz."/classes/hotsite",
			"HotsiteService" => $_->raiz."/classes/hotsite",
			"HotsiteDAO" => $_->raiz."/classes/hotsite",
			"Servico" => $_->raiz."/classes/servico",
			"ServicoController" => $_->raiz."/classes/servico",
			"ServicoService" => $_->raiz."/classes/servico",
			"ServicoDAO" => $_->raiz."/classes/servico"
		);

		if(file_exists($classes[$className].'/'.$className.'.php')){
			require_once($classes[$className].'/'.$className.'.php');
		}else{
			if($paths == null)
				$paths = array_merge(DirUtil::allSubDirs($_->raiz.'/classes'), DirUtil::allSubDirs($_->raiz.'/util'));
			$loader = new ClassLoader(array(''), $paths);
			$success = $loader->load($className);
		}
	}
?>